#!/bin/sh
[ "$OPENER" = '' ] && OPENER=xdg-open
fx="$@"
f="$1"
# file name
case "$f" in
    *.html)
        browser "$fx";;
    *)
        # mime type
        case $(file --mime-type "$(realpath """$f""")" -b) in
            text/*|*/json|*empty)
                $EDITOR "$fx";;
            image/*)
                sxivv "$fx" &;;
            video/*)
                mpv "$fx" --loop=inf &;;
            *)
                $OPENER "$fx" &
        esac
esac
