#!/bin/sh

pgrep i3lock && {
    echo Already locked
    exit 0
}

"$(dirname "$0")/lang-set" us >/dev/null

[ "$FONT" ] || FONT='DejaVu Sans Mono'
COLOR='ffffffff'
X=960
Y=800

# using picom for blur and opacity
exec i3lock \
     -e -f -c 000000 \
     --clock \
     --indicator \
     --timestr '%H:%M' \
     --datestr '%Y-%m-%d' \
     --time-font "$FONT" \
     --date-font "$FONT" \
     --timesize 70 \
     --datesize 50 \
     --timepos "$X:$Y" \
     --datepos "$X:$((Y+70))" \
     --timecolor "$COLOR" \
     --datecolor "$COLOR" \
     --pass-media-keys \
     --pass-screen-keys \
     --pass-power-keys \
     --pass-volume-keys
